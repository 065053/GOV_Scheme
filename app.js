const translations = {
    "en": {
        "brand": "Welfare Scheme<br>Matching Portal",
        "label-language": "Select Language",
        "sidebar-title": "Determine Eligibility",
        "label-age": "Applicant Age",
        "label-gender": "Gender",
        "opt-male": "Male",
        "opt-female": "Female",
        "opt-other": "Other / Prefer not to say",
        "label-occupation": "Current Occupation",
        "opt-student": "Student",
        "opt-farmer": "Farmer / Agriculture",
        "opt-small-business": "Small Business Owner",
        "opt-entrepreneur": "Entrepreneur",
        "opt-professional": "Working Professional",
        "opt-private": "Private Sector Employee / Private",
        "opt-unemployed": "Unemployed / Job Seeker",
        "opt-senior": "Senior Citizen",
        "opt-retired": "Retired",
        "label-income": "Annual Household Income (₹)",
        "btn-verify": "Verify Eligibility",
        "header-title": "Eligible Welfare Schemes",
        "header-desc": "Welcome to the national scheme matching engine. Enter your demographics to discover programs.",
        "status-initial": "Enter your details and verify eligibility to load schemes.",
        "verifying": "Verifying...",
        "connection-failed": "Connection failed. Unable to retrieve data.",
        "no-matches": "No central schemes match the demographics provided.",
        "eligibility-verified": "✓ Eligibility Verified: {count} Suitable Scheme(s) Discovered",
        "mandatory-docs": "Mandatory Documents",
        "proceed-portal": "Proceed to Official Portal",
        "schemes": {
            "PM-Kisan Samman Nidhi": {
                "name": "PM-Kisan Samman Nidhi",
                "desc": "Financial benefit of Rs. 6000/- per year is provided to all landholding farmer families."
            },
            "PM Mudra Yojana": {
                "name": "PM Mudra Yojana",
                "desc": "Loans up to Rs. 10 Lakhs to non-corporate, non-farm small/micro enterprises."
            },
            "Post-Matric Scholarships": {
                "name": "Post-Matric Scholarships",
                "desc": "Scholarships for SC/ST/OBC students studying at post-matriculation or post-secondary stage."
            }
        }
    },
    "hi": {
        "brand": "कल्याणकारी योजना<br>मिलान पोर्टल",
        "label-language": "भाषा चुनें",
        "sidebar-title": "पात्रता निर्धारित करें",
        "label-age": "आवेदक की आयु",
        "label-gender": "लिंग",
        "opt-male": "पुरुष",
        "opt-female": "महिला",
        "opt-other": "अन्य / कहना नहीं चाहते",
        "label-occupation": "वर्तमान व्यवसाय",
        "opt-student": "छात्र",
        "opt-farmer": "किसान / कृषि",
        "opt-small-business": "लघु व्यवसाय स्वामी",
        "opt-entrepreneur": "उद्यमी",
        "opt-professional": "काम करने वाले पेशेवर",
        "opt-private": "निजी क्षेत्र के कर्मचारी",
        "opt-unemployed": "बेरोजगार",
        "opt-senior": "वरिष्ठ नागरिक",
        "opt-retired": "सेवानिवृत्त",
        "label-income": "वार्षिक घरेलू आय (₹)",
        "btn-verify": "पात्रता सत्यापित करें",
        "header-title": "पात्र कल्याणकारी योजनाएं",
        "header-desc": "राष्ट्रीय योजना मिलान इंजन में आपका स्वागत है। कार्यक्रमों की खोज के लिए अपना विवरण दर्ज करें।",
        "status-initial": "योजनाओं को लोड करने के लिए अपना विवरण दर्ज करें और पात्रता सत्यापित करें।",
        "verifying": "सत्यापित किया जा रहा है...",
        "connection-failed": "कनेक्शन विफल रहा। डेटा प्राप्त करने में असमर्थ।",
        "no-matches": "प्रदान की गई जनसांख्यिकी से कोई योजना मेल नहीं खाती।",
        "eligibility-verified": "✓ पात्रता सत्यापित: {count} उपयुक्त योजना(एं) मिलीं",
        "mandatory-docs": "अनिवार्य दस्तावेज",
        "proceed-portal": "आधिकारिक पोर्टल पर जाएं",
        "schemes": {
            "PM-Kisan Samman Nidhi": {
                "name": "पीएम-किसान सम्मान निधि",
                "desc": "सभी भूमिधारक किसान परिवारों को प्रति वर्ष 6000/- रुपये का वित्तीय लाभ प्रदान किया जाता है।"
            },
            "PM Mudra Yojana": {
                "name": "पीएम मुद्रा योजना",
                "desc": "गैर-कॉर्पोरेट, गैर-कृषि लघु/सूक्ष्म उद्यमों को 10 लाख रुपये तक का ऋण।"
            },
            "Post-Matric Scholarships": {
                "name": "मैट्रिकोत्तर छात्रवृत्ति",
                "desc": "मैट्रिकोत्तर या माध्यमिक पश्चात स्तर पर पढ़ने वाले अनुसूचित जाति/अनुसूचित जनजाति/अन्य पिछड़ा वर्ग के छात्रों के लिए छात्रवृत्ति।"
            }
        }
    },
    "ta": {
        "brand": "நலத்திட்ட<br>பொருந்தும் போர்டல்",
        "label-language": "மொழியைத் தேர்ந்தெடுக்கவும்",
        "sidebar-title": "தகுதியைத் தீர்மானிக்கவும்",
        "label-age": "விண்ணப்பதாரரின் வயது",
        "label-gender": "பாலினம்",
        "opt-male": "ஆண்",
        "opt-female": "பெண்",
        "opt-other": "மற்றவை",
        "label-occupation": "தற்போதைய தொழில்",
        "opt-student": "மாணவர்",
        "opt-farmer": "விவசாயி",
        "opt-small-business": "சிறு தொழிலதிபர்",
        "opt-entrepreneur": "தொழில்முனைவோர்",
        "opt-professional": "பணிபுரியும் தொழில்முறை",
        "opt-private": "தனியார் துறை ஊழியர்",
        "opt-unemployed": "வேலையில்லாதவர்",
        "opt-senior": "மூத்த குடிமகன்",
        "opt-retired": "ஓய்வு பெற்றவர்",
        "label-income": "ஆண்டு குடும்ப வருமானம் (₹)",
        "btn-verify": "தகுதியைச் சரிபார்க்கவும்",
        "header-title": "தகுதியான நலத் திட்டங்கள்",
        "header-desc": "தேசிய திட்ட பொருந்தும் இயந்திரத்திற்கு உங்களை வரவேற்கிறோம்.",
        "status-initial": "உங்கள் விவரங்களை உள்ளிட்டு தகுதியைச் சரிபார்க்கவும்.",
        "verifying": "சரிபார்க்கப்படுகிறது...",
        "connection-failed": "இணைப்பு தோல்வியடைந்தது.",
        "no-matches": "பொருந்தும் திட்டங்கள் இல்லை.",
        "eligibility-verified": "✓ தகுதி சரிபார்க்கப்பட்டது: {count} திட்டங்கள் கண்டறியப்பட்டன",
        "mandatory-docs": "கட்டாய ஆவணங்கள்",
        "proceed-portal": "அதிகாரப்பூர்வ போர்ட்டலுக்குச் செல்லவும்",
        "schemes": {
            "PM-Kisan Samman Nidhi": {
                "name": "பிஎம்-கிசான் சம்மன் நிதி",
                "desc": "அனைத்து நிலம் வைத்திருக்கும் விவசாய குடும்பங்களுக்கும் ஆண்டுக்கு ரூ. 6000/- நிதி உதவி வழங்கப்படுகிறது."
            }
        }
    },
    "te": {
        "brand": "సంక్షేమ పథకం<br>మ్యాచింగ్ పోర్టల్",
        "label-language": "భాషను ఎంచుకోండి",
        "sidebar-title": "అర్హతను నిర్ణయించండి",
        "label-age": "దరఖాస్తుదారు వయస్సు",
        "label-gender": "లింగం",
        "opt-male": "పురుషుడు",
        "opt-female": "స్త్రీ",
        "opt-other": "ఇతర",
        "label-occupation": "ప్రస్తుత వృత్తి",
        "opt-student": "విద్యార్థి",
        "opt-farmer": "రైతు",
        "opt-small-business": "చిన్న వ్యాపార యజమాని",
        "opt-entrepreneur": "పారిశ్రామికవేత్త",
        "opt-professional": "వర్కింగ్ ప్రొఫెషనల్",
        "opt-private": "ప్రైవేట్ రంగ ఉద్యోగి",
        "opt-unemployed": "నిరుద్యోగి",
        "opt-senior": "సీనియర్ సిటిజన్",
        "opt-retired": "రిటైర్డ్",
        "label-income": "వార్షిక గృహ ఆదాయం (₹)",
        "btn-verify": "అర్హతను ధృవీకరించండి",
        "header-title": "అర్హత కలిగిన సంక్షేమ పథకాలు",
        "header-desc": "జాతీయ పథకం మ్యాచింగ్ ఇంజిన్‌కు స్వాగతం.",
        "status-initial": "వివరాలను నమోదు చేసి అర్హతను ధృవీకరించండి.",
        "verifying": "ధృవీకరిస్తోంది...",
        "connection-failed": "కనెక్షన్ విఫలమైంది.",
        "no-matches": "సరిపోలే పథకాలు లేవు.",
        "eligibility-verified": "✓ అర్హత ధృవీకరించబడింది: {count} పథకాలు కనుగొనబడ్డాయి",
        "mandatory-docs": "తప్పనిసరి పత్రాలు",
        "proceed-portal": "అధికారిక పోర్టల్‌కు వెళ్లండి"
    },
    "mr": {
        "brand": "कल्याणकारी योजना<br>मॅचिंग पोर्टल",
        "label-language": "भाषा निवडा",
        "sidebar-title": "पात्रता ठरवा",
        "label-age": "अर्जदाराचे वय",
        "label-gender": "लिंग",
        "opt-male": "पुरुष",
        "opt-female": "महिला",
        "opt-other": "इतर",
        "label-occupation": "सध्याचा व्यवसाय",
        "opt-student": "विद्यार्थी",
        "opt-farmer": "शेतकरी",
        "opt-small-business": "लहान व्यवसाय मालक",
        "opt-entrepreneur": "उद्योजक",
        "opt-professional": "वर्किंग प्रोफेशनल",
        "opt-private": "खाजगी क्षेत्र कर्मचारी",
        "opt-unemployed": "बेरोजगार",
        "opt-senior": "वरिष्ठ नागरिक",
        "opt-retired": "सेवानिवृत्त",
        "label-income": "वार्षिक कौटुंबिक उत्पन्न (₹)",
        "btn-verify": "पात्रता तपासा",
        "header-title": "पात्र कल्याणकारी योजना",
        "header-desc": "राष्ट्रीय योजना मॅचिंग इंजिनमध्ये आपले स्वागत आहे.",
        "status-initial": "तपशील भरा आणि पात्रता तपासा.",
        "verifying": "तपासत आहे...",
        "connection-failed": "कनेक्शन अयशस्वी.",
        "no-matches": "कोणतीही योजना जुळली नाही.",
        "eligibility-verified": "✓ पात्रता तपासली: {count} योजना आढळल्या",
        "mandatory-docs": "अनिवार्य कागदपत्रे",
        "proceed-portal": "अधिकृत पोर्टलवर जा"
    },
    "gu": {
        "brand": "કલ્યાણકારી યોજના<br>મેચિંગ પોર્ટલ",
        "label-language": "ભાષા પસંદ કરો",
        "sidebar-title": "પાત્રતા નક્કી કરો",
        "label-age": "અરજદારની ઉંમર",
        "label-gender": "લિંગ",
        "opt-male": "પુરુષ",
        "opt-female": "સ્ત્રી",
        "opt-other": "અન્ય",
        "label-occupation": "વર્તમાન વ્યવસાય",
        "opt-student": "વિદ્યાર્થી",
        "opt-farmer": "ખેડૂત",
        "opt-small-business": "નાના વ્યવસાયના માલિક",
        "opt-entrepreneur": "ઉદ્યોગસાહસિક",
        "opt-professional": "વર્કિંગ પ્રોફેશનલ",
        "opt-private": "ખાનગી ક્ષેત્રના કર્મચારી",
        "opt-unemployed": "બેરોજગાર",
        "opt-senior": "સીનિયર સિટીઝન",
        "opt-retired": "નિવૃત્ત",
        "label-income": "વાર્ષિક કૌટુંબિક આવક (₹)",
        "btn-verify": "પાત્રતા ચકાસો",
        "header-title": "પાત્ર કલ્યાણકારી યોજનાઓ",
        "header-desc": "રાષ્ટ્રીય યોજના મેચિંગ એન્જિનમાં આપનું સ્વાગત છે.",
        "status-initial": "તમારી વિગતો દાખલ કરો અને પાત્રતા ચકાસો.",
        "verifying": "ચકાસણી ચાલુ છે...",
        "connection-failed": "કનેક્શન નિષ્ફળ.",
        "no-matches": "કોઈ યોજના મળી નથી.",
        "eligibility-verified": "✓ પાત્રતા ચકાસાઈ: {count} યોજનાઓ મળી",
        "mandatory-docs": "ફરજિયાત દસ્તાવેજો",
        "proceed-portal": "સત્તાવાર પોર્ટલ પર જાઓ"
    },
    "kn": {
        "brand": "ಕಲ್ಯಾಣ ಯೋಜನೆ<br>ಮ್ಯಾಚಿಂಗ್ ಪೋರ್ಟಲ್",
        "label-language": "ಭಾಷೆ ಆಯ್ಕೆಮಾಡಿ",
        "sidebar-title": "ಅರ್ಹತೆಯನ್ನು ನಿರ್ಧರಿಸಿ",
        "label-age": "ಅರ್ಜಿದಾರರ ವಯಸ್ಸು",
        "label-gender": "ಲಿಂಗ",
        "opt-male": "ಪುರುಷ",
        "opt-female": "ಮಹಿಳೆ",
        "opt-other": "ಇತರ",
        "label-occupation": "ಪ್ರಸ್ತುತ ವೃತ್ತಿ",
        "opt-student": "ವಿದ್ಯಾರ್ಥಿ",
        "opt-farmer": "ರೈತ",
        "opt-small-business": "ಸಣ್ಣ ಉದ್ಯಮಿ",
        "opt-entrepreneur": "ಉದ್ಯಮಿ",
        "opt-professional": "ಉದ್ಯೋಗಿ",
        "opt-private": "ಖಾಸಗಿ ವಲಯದ ಉದ್ಯೋಗಿ",
        "opt-unemployed": "ನಿರುದ್ಯೋಗಿ",
        "opt-senior": "ಹಿರಿಯ ನಾಗರಿಕ",
        "opt-retired": "ನಿವೃತ್ತ",
        "label-income": "ವಾರ್ಷಿಕ ಕೌಟುಂಬಿಕ ಆದಾಯ (₹)",
        "btn-verify": "ಅರ್ಹತೆಯನ್ನು ದೃಢೀಕರಿಸಿ",
        "header-title": "ಅರ್ಹ ಕಲ್ಯಾಣ ಯೋಜನೆಗಳು",
        "header-desc": "ರಾಷ್ಟ್ರೀಯ ಯೋಜನೆ ಮ್ಯಾಚಿಂಗ್ ಇಂಜಿನ್‌ಗೆ ಸುಸ್ವಾಗತ.",
        "status-initial": "ವಿವರಗಳನ್ನು ನಮೂದಿಸಿ ಮತ್ತು ಅರ್ಹತೆಯನ್ನು ದೃಢೀಕರಿಸಿ.",
        "verifying": "ದೃಢೀಕರಿಸಲಾಗುತ್ತಿದೆ...",
        "connection-failed": "ಸಂಪರ್ಕ ವಿಫಲವಾಗಿದೆ.",
        "eligibility-verified": "✓ ಅರ್ಹತೆ ದೃಢೀಕರಿಸಲಾಗಿದೆ: {count} ಯೋಜನೆಗಳು ಕಂಡುಬಂದಿವೆ",
        "mandatory-docs": "ಕಡ್ಡಾಯ ದಾಖಲೆಗಳು",
        "proceed-portal": "ಅಧಿಕೃತ ಪೋರ್ಟಲ್‌ಗೆ ಹೋಗಿ"
    },
    "ml": {
        "brand": "ക്ഷേമ പദ്ധതി<br>മാച്ചിംഗ് പോർട്ടൽ",
        "label-language": "ഭാഷ തിരഞ്ഞെടുക്കുക",
        "sidebar-title": "യോഗ്യത നിർണ്ണയിക്കുക",
        "label-age": "അപേക്ഷകന്റെ വയസ്സ്",
        "label-gender": "ലിംഗം",
        "opt-male": "പുരുഷൻ",
        "opt-female": "സ്ത്രീ",
        "opt-other": "മറ്റുള്ളവ",
        "label-occupation": "നിലവിലെ തൊഴിൽ",
        "opt-student": "വിദ്യാർത്ഥി",
        "opt-farmer": "കർഷകൻ",
        "opt-small-business": "ചെറുകിട വ്യവസായി",
        "opt-entrepreneur": "സംരംഭകൻ",
        "opt-professional": "ജോലി ചെയ്യുന്ന പ്രൊഫഷണൽ",
        "opt-private": "സ്വകാര്യ മേഖലയിലെ ജീവനക്കാരൻ",
        "opt-unemployed": "തൊഴിലില്ലാത്തവൻ",
        "opt-senior": "സീനിയർ സിറ്റിസൺ",
        "opt-retired": "വിരമിച്ചയാൾ",
        "label-income": "വാർഷിക കുടുംബ വരുമാനം (₹)",
        "btn-verify": "യോഗ്യത പരിശോധിക്കുക",
        "header-title": "അർഹമായ ക്ഷേമ പദ്ധതികൾ",
        "header-desc": "ദേശീയ പദ്ധതി മാച്ചിംഗ് എഞ്ചിനിലേക്ക് സ്വാഗതം.",
        "status-initial": "വിവരങ്ങൾ നൽകി യോഗ്യത പരിശോധിക്കുക.",
        "verifying": "പരിശോധിക്കുന്നു...",
        "connection-failed": "കണക്ഷൻ പരാജയപ്പെട്ടു.",
        "eligibility-verified": "✓ യോഗ്യത പരിശോധിച്ചു: {count} പദ്ധതികൾ കണ്ടെത്തി",
        "mandatory-docs": "നിർബന്ധിത രേഖകൾ",
        "proceed-portal": "ഔദ്യോഗിക പോർട്ടലിലേക്ക് പോകുക"
    },
    "bho": {
        "brand": "कल्याणकारी योजना<br>मिलान पोर्टल",
        "label-language": "भाषा चुनीं",
        "sidebar-title": "पात्रता तय करीं",
        "label-age": "आवेदक के उमिर",
        "label-gender": "लिंग",
        "opt-male": "पुरुष",
        "opt-female": "मेहरारू",
        "opt-other": "अउरी",
        "label-occupation": "अभी के काम",
        "opt-student": "विद्यार्थी",
        "opt-farmer": "किसान",
        "opt-small-business": "छोट ब्यवसायी",
        "opt-entrepreneur": "उद्यमी",
        "opt-professional": "काम करे वाला पेशावर",
        "opt-private": "प्राइवेट काम करे वाला",
        "opt-unemployed": "बेरोजगार",
        "opt-senior": "बुजुर्ग",
        "opt-retired": "रिटायर्ड",
        "label-income": "सालाना आमदनी (₹)",
        "btn-verify": "पात्रता जाँचीं",
        "header-title": "पात्र कल्याणकारी योजना सभ",
        "header-desc": "राष्ट्रीय योजना मिलान इंजन में राउर स्वागत बा।",
        "status-initial": "विवरण भरीं आ पात्रता जाँचीं।",
        "verifying": "जाँचल जात बा...",
        "connection-failed": "कनेक्शन फेल हो गइल।",
        "eligibility-verified": "✓ पात्रता जाँचल गइल: {count} योजना मिलल",
        "mandatory-docs": "जरूरी कागज",
        "proceed-portal": "सरकारी वेबसाइट पर जाईं"
    }
};

let currentLanguage = 'en';

function updateUI(lang) {
    currentLanguage = lang;
    const t = translations[lang];
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (t[key]) {
            el.innerHTML = t[key];
        }
    });
}

document.getElementById('language').addEventListener('change', function (e) {
    updateUI(e.target.value);
});

document.getElementById('profile-form').addEventListener('submit', async function (e) {
    e.preventDefault();

    const age = parseInt(document.getElementById('age').value);
    const gender = document.getElementById('gender').value;
    const occupation = document.getElementById('occupation').value;
    const income = parseInt(document.getElementById('income').value);
    const lang = document.getElementById('language').value;

    const btn = document.querySelector('.primary-btn');
    const originalText = btn.innerHTML;

    // Add professional loading spinner to the button
    btn.innerHTML = `<span class="spinner"></span> <span>${translations[lang]['verifying']}</span>`;
    btn.disabled = true;

    // Simulate a slight network delay to make the interaction feel substantial and let the loader show
    await new Promise(resolve => setTimeout(resolve, 800));

    try {
        const response = await fetch('schemes_db.json');

        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const allSchemes = await response.json();

        // Matching Engine
        // Matching Engine
        const matched = filterSchemes(allSchemes, age, gender, occupation, income);

        // Render to DOM with animation cascading
        renderSchemes(matched);
    } catch (error) {
        console.error('Error securely querying schemes:', error);
        const container = document.getElementById('status-message-container');
        container.innerHTML = `<span id="status-message" style="color: #dc2626; font-weight: 500;">${translations[lang]['connection-failed']}</span>`;
    } finally {
        // Restore button state
        btn.innerHTML = originalText;
        btn.disabled = false;
    }
});

function filterSchemes(schemes, age, gender, occupation, income) {
    const matched = [];
    const occLower = occupation.toLowerCase();
    const genderLower = gender.toLowerCase();

    for (const s of schemes) {
        const ageValid = s.age_range.min <= age && age <= s.age_range.max;
        const incomeValid = s.max_income_limit >= income;

        // Normalize occupation checks
        const targetOccs = s.target_occupation.map(o => o.toLowerCase());
        const occValid = targetOccs.includes('all') || targetOccs.some(t => occLower.includes(t) || t.includes(occLower));

        // Gender check
        const targetGender = s.target_gender.toLowerCase();
        const genderValid = targetGender === 'all' || targetGender === genderLower;

        if (ageValid && incomeValid && occValid && genderValid) {
            matched.push(s);
        }
    }
    return matched;
}

function renderSchemes(schemes) {
    const container = document.getElementById('results-container');
    const msgContainer = document.getElementById('status-message-container');

    // Fade out old content
    container.style.opacity = '0';

    setTimeout(() => {
        container.innerHTML = ''; // Clear DOM safely
        container.style.opacity = '1';

        if (!schemes || schemes.length === 0) {
            msgContainer.innerHTML = `<span id="status-message" style="color: #b91c1c; font-weight:500;">${translations[currentLanguage]['no-matches']}</span>`;
            return;
        }

        const successMsg = translations[currentLanguage]['eligibility-verified'].replace('{count}', schemes.length);
        msgContainer.innerHTML = `<span id="status-message" class="status-success">${successMsg}</span>`;

        // Inject cards with a staggered cascade animation
        schemes.forEach((scheme, index) => {
            const listItems = scheme.application_checklist.map(item => `<li>${item}</li>`).join('');

            // Get translated scheme data if available
            const langSchemes = (translations[currentLanguage] && translations[currentLanguage]['schemes']) ? translations[currentLanguage]['schemes'] : {};
            const translatedScheme = langSchemes[scheme.scheme_name] || {};
            const schemeName = translatedScheme.name || scheme.scheme_name;
            const schemeDesc = translatedScheme.desc || scheme.description;

            const card = document.createElement('div');
            card.className = 'scheme-card animate-in';
            // Stagger the animation delay so they pop in sequentially
            card.style.animationDelay = `${index * 0.12}s`;

            card.innerHTML = `
                <div class="card-title">${schemeName}</div>
                <div class="card-desc">${schemeDesc}</div>
                
                <div class="card-checklist-box">
                    <div class="card-checklist-title">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                        ${translations[currentLanguage]['mandatory-docs']}
                    </div>
                    <ul class="card-checklist">
                        ${listItems}
                    </ul>
                </div>
                
                <div class="card-footer">
                    <a href="${scheme.official_link}" target="_blank" class="card-link" rel="noopener noreferrer">
                        ${translations[currentLanguage]['proceed-portal']}
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                    </a>
                </div>
            `;
            container.appendChild(card);
        });
    }, 200);
}
